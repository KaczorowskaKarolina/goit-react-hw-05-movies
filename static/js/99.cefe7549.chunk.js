"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[99,833],{833:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var t=s(791),i=s(689),c=s(294),r=s(184);const l=e=>{let{apiKey:a,baseImageUrl:s}=e;const{movieId:l}=(0,i.UO)(),[o,n]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{try{const e=await c.Z.get("https://api.themoviedb.org/3/movie/".concat(l,"?api_key=").concat(a));200===e.status&&n(e.data)}catch(e){console.error("Error fetching movie details:",e.message)}})()}),[a,l]),(0,r.jsx)("div",{className:"MovieDetails_div",children:o?(0,r.jsxs)("div",{className:"MovieDetails_content",children:[(0,r.jsx)("h2",{className:"MovieDetails_h2",children:o.title}),(0,r.jsx)("img",{className:"MovieDetails_img",src:"".concat(s).concat(o.poster_path),alt:o.title}),(0,r.jsx)("p",{className:"MovieDetails_p",children:o.overview})]}):(0,r.jsx)("div",{className:"MovieDetails_loading",children:"Loading..."})})}},99:(e,a,s)=>{s.r(a),s.d(a,{default:()=>n});var t=s(791),i=s(294),c=s(689),r=s(87),l=s(833),o=s(184);const n=e=>{let{apiKey:a}=e;const[s,n]=(0,t.useState)(""),[d,h]=(0,t.useState)([]),[m,p]=(0,t.useState)({}),{movieId:v}=(0,c.UO)(),u=(0,c.s0)(),j=(0,t.useCallback)((async()=>{try{const e=await i.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(a,"&query=").concat(s));h(e.data.results)}catch(e){console.error("Error searching movies:",e.message)}}),[a,s]);(0,t.useEffect)((()=>{(async()=>{try{const e=await i.Z.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(a)),s={};e.data.genres.forEach((e=>{s[e.id]=e.name})),p(s)}catch(e){console.error("Error fetching genres:",e.message)}})(),j()}),[a,j]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("header",{className:"app_header",children:(0,o.jsx)("nav",{className:"app_nav",children:(0,o.jsxs)("ul",{className:"app_ul",children:[(0,o.jsx)("li",{className:"app_li",children:(0,o.jsx)(r.rU,{to:"/",children:"Home"})}),(0,o.jsx)("li",{className:"app_li",children:(0,o.jsx)(r.rU,{to:"/movies",children:"Movies"})})]})})}),(0,o.jsx)("h2",{children:"Movies"}),v&&(0,o.jsx)(r.rU,{to:"/home",className:"back-link",onClick:()=>u(-1),children:"Back"}),(0,o.jsx)("input",{type:"text",placeholder:"movie title...",value:s,onChange:e=>n(e.target.value)}),(0,o.jsx)("button",{onClick:j,children:"Search"}),(0,o.jsx)("ul",{children:d.map((e=>{return(0,o.jsx)("li",{children:(0,o.jsxs)(r.rU,{to:"/movies/".concat(e.id),children:[(0,o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.poster_path),alt:e.title}),(0,o.jsx)("p",{children:e.overview}),(0,o.jsxs)("p",{children:["Genres: ",(a=e.genre_ids,a.map((e=>m[e])).join(", "))]})]})},e.id);var a}))}),v&&(0,o.jsx)(t.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsx)(l.default,{apiKey:a,movieId:v})})]})}}}]);
//# sourceMappingURL=99.cefe7549.chunk.js.map