"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[99,106],{106:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(791),r=a(689),c=a(294),i=a(184);const o=e=>{let{apiKey:t,baseImageUrl:a}=e;const{movieId:o}=(0,r.UO)(),[n,l]=(0,s.useState)(null);return(0,s.useEffect)((()=>{(async()=>{try{const e=await c.Z.get("https://api.themoviedb.org/3/movie/".concat(o,"?api_key=").concat(t));200===e.status&&l(e.data)}catch(e){console.error("Error fetching movie details:",e.message)}})()}),[t,o]),(0,i.jsx)("div",{children:n?(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:n.title}),(0,i.jsx)("img",{src:"".concat(a).concat(n.poster_path),alt:n.title}),(0,i.jsx)("p",{children:n.overview})]}):(0,i.jsx)("div",{children:"Loading..."})})}},99:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(791),r=a(294),c=a(689),i=a(87),o=a(106),n=a(184);const l=e=>{let{apiKey:t}=e;const[a,l]=(0,s.useState)(""),[d,h]=(0,s.useState)([]),[p,m]=(0,s.useState)({}),{movieId:v}=(0,c.UO)(),u=(0,s.useCallback)((async()=>{try{const e=await r.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(t,"&query=").concat(a));h(e.data.results)}catch(e){console.error("Error searching movies:",e.message)}}),[t,a]);(0,s.useEffect)((()=>{(async()=>{try{const e=await r.Z.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(t)),a={};e.data.genres.forEach((e=>{a[e.id]=e.name})),m(a)}catch(e){console.error("Error fetching genres:",e.message)}})(),u()}),[t,u]);return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Movies"}),(0,n.jsx)("input",{type:"text",placeholder:"movie title...",value:a,onChange:e=>l(e.target.value)}),(0,n.jsx)("button",{onClick:u,children:"Search"}),(0,n.jsx)("ul",{children:d.map((e=>{return(0,n.jsx)("li",{children:(0,n.jsxs)(i.rU,{to:"/movies/".concat(e.id),children:[(0,n.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.poster_path),alt:e.title}),(0,n.jsx)("p",{children:e.overview}),(0,n.jsxs)("p",{children:["Genres: ",(t=e.genre_ids,t.map((e=>p[e])).join(", "))]})]})},e.id);var t}))}),v&&(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(o.default,{apiKey:t,movieId:v})})]})}}}]);
//# sourceMappingURL=99.507cd867.chunk.js.map