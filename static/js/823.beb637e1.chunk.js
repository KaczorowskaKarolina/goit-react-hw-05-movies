"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[823,355,62,786],{62:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(791),i=a(184);const c=e=>{let{apiKey:s,movieId:a}=e;const[c,r]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("https://api.themoviedb.org/3/movie/".concat(a,"/credits?api_key=").concat(s));if(!e.ok)throw new Error("Failed to fetch cast details");const t=await e.json();r(t.cast)}catch(e){console.error("Error fetching cast details:",e.message)}})()}),[a,s]),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Cast"}),c.map((e=>(0,i.jsx)("div",{children:e.name},e.id)))]})}},355:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var t=a(791),i=a(689),c=a(87),r=a(294),o=a(62),l=a(786),n=a(184);const d=e=>{let{apiKey:s,baseImageUrl:a}=e;const{movieId:d,prevPath:h}=(0,i.UO)(),[m,v]=(0,t.useState)(null),[p,j]=(0,t.useState)(!1),[u,x]=(0,t.useState)(!1),g=(0,i.s0)();(0,t.useEffect)((()=>{(async()=>{try{const e=await r.Z.get("https://api.themoviedb.org/3/movie/".concat(d,"?api_key=").concat(s));200===e.status&&v(e.data)}catch(e){console.error("Error fetching movie details:",e.message)}})()}),[s,d]);const _=()=>{j(!p)},f=()=>{x(!u)};return(0,n.jsx)("div",{className:"MovieDetails_container",children:m?(0,n.jsxs)("div",{className:"MovieDetails_content",children:[(0,n.jsxs)("h2",{className:"MovieDetails_h2",children:[m.title," (",m.release_date,")"]}),(0,n.jsx)("img",{className:"MovieDetails_img",src:"https://image.tmdb.org/t/p/w200".concat(m.poster_path),alt:m.title}),(0,n.jsx)("p",{className:"MovieDetails_title",children:(0,n.jsx)("strong",{children:"Overview:"})}),(0,n.jsx)("p",{className:"MovieDetails_overview",children:m.overview}),(0,n.jsxs)("p",{className:"MovieDetails_runtime",children:["Runtime: ",m.runtime," min"]}),(0,n.jsx)("p",{className:"MovieDetails_info",children:"Additional information:"}),(0,n.jsx)(c.rU,{to:"#",onClick:_,children:"Cast"}),p&&(0,n.jsx)(o.default,{apiKey:s,movieId:d,close:_}),(0,n.jsx)("p",{}),(0,n.jsx)(c.rU,{to:"#",onClick:f,children:"Reviews"}),u&&(0,n.jsx)(l.default,{apiKey:s,movieId:d,close:f}),(0,n.jsx)("p",{children:(0,n.jsx)("button",{className:"MovieDetails_goBack",onClick:()=>{g(h||"/movies")},children:"Go Back"})})]}):(0,n.jsx)("div",{className:"MovieDetails_loading",children:"Loading..."})})}},786:(e,s,a)=>{a.r(s),a.d(s,{default:()=>r});var t=a(791),i=a(294),c=a(184);const r=e=>{let{apiKey:s,movieId:a}=e;const[r,o]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const e=await i.Z.get("https://api.themoviedb.org/3/movie/".concat(a,"/reviews?api_key=").concat(s));if(200!==e.status)throw new Error("Failed to fetch reviews");o(e.data.results)}catch(e){console.error("Error fetching reviews:",e.message)}})()}),[s,a]),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:"Reviews"}),r&&r.length>0?(0,c.jsx)("ul",{children:r.map((e=>(0,c.jsxs)("li",{children:[(0,c.jsx)("p",{children:e.author}),(0,c.jsx)("p",{children:e.content})]},e.id)))}):(0,c.jsx)("p",{children:"No reviews available."})]})}},823:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var t=a(791),i=a(294),c=a(689),r=a(87),o=a(355),l=a(184);const n=e=>{let{apiKey:s}=e;const[a,n]=(0,t.useState)(""),[d,h]=(0,t.useState)([]),[m,v]=(0,t.useState)({}),{movieId:p}=(0,c.UO)(),j=(0,c.s0)(),u=(0,t.useCallback)((async()=>{try{const e=await i.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(s,"&query=").concat(a));h(e.data.results)}catch(e){console.error("Error searching movies:",e.message)}}),[s,a]);(0,t.useEffect)((()=>{(async()=>{try{const e=await i.Z.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(s)),a={};e.data.genres.forEach((e=>{a[e.id]=e.name})),v(a)}catch(e){console.error("Error fetching genres:",e.message)}})(),u()}),[s,u]);const x=e=>e.poster_path?"https://image.tmdb.org/t/p/w200".concat(e.poster_path):"".concat("/goit-react-hw-05-movies","/poster.jpg");return(0,l.jsxs)("div",{className:"movies_container",children:[(0,l.jsx)("header",{className:"app_header",children:(0,l.jsx)("nav",{className:"app_nav",children:(0,l.jsxs)("ul",{className:"app_ul",children:[(0,l.jsx)("li",{className:"app_li",children:(0,l.jsx)(r.rU,{to:"/",children:"Home"})}),(0,l.jsx)("li",{className:"app_li",children:(0,l.jsx)(r.rU,{to:"/movies",children:"Movies"})})]})})}),(0,l.jsxs)("div",{className:"movies_container2",children:[(0,l.jsx)("h2",{className:"movies_h2",children:"Movie:"}),p&&(0,l.jsx)(r.rU,{to:"/home",className:"back-link",onClick:()=>j(-1),children:"Back"}),(0,l.jsx)("input",{type:"text",placeholder:"Search movie title...",value:a,onChange:e=>n(e.target.value),className:"search-input"}),(0,l.jsx)("button",{onClick:u,className:"search-button",children:"Search"})]}),(0,l.jsx)("ul",{className:"movies_list",children:d.map((e=>{return(0,l.jsxs)("li",{className:"movies_item",children:[(0,l.jsx)(r.rU,{to:"/movies/".concat(e.id),className:"movies_item",children:(0,l.jsx)("img",{src:x(e),alt:e.title,className:"movies_image"})}),(0,l.jsx)(r.rU,{children:(0,l.jsx)("p",{children:e.title})}),(0,l.jsxs)("p",{className:"movies_genres",children:["Genres: ",(s=e.genre_ids,s.map((e=>m[e])).join(", "))]})]},e.id);var s}))}),p&&(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsx)(o.default,{apiKey:s,movieId:p})})]})}}}]);
//# sourceMappingURL=823.beb637e1.chunk.js.map